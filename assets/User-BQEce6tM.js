import{r as l,R as A,b as ae,j as e,a as z,D as Z}from"./index-kU5mV01F.js";import{l as D,L as re}from"./leaflet-src-6E6p3t0n.js";import{S as $}from"./react-select.esm-CNCe-x2a.js";import{C as B}from"./CardsViewer-DVkOtrJ-.js";function Q(n,t){const a=l.useRef(t);l.useEffect(function(){t!==a.current&&n.attributionControl!=null&&(a.current!=null&&n.attributionControl.removeAttribution(a.current),t!=null&&n.attributionControl.addAttribution(t)),a.current=t},[n,t])}const se=1;function oe(n){return Object.freeze({__version:se,map:n})}function le(n,t){return Object.freeze({...n,...t})}const W=l.createContext(null),X=W.Provider;function M(){const n=l.useContext(W);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function ie(n){function t(a,r){const{instance:s,context:i}=n(a).current;return l.useImperativeHandle(r,()=>s),a.children==null?null:A.createElement(X,{value:i},a.children)}return l.forwardRef(t)}function ce(n){function t(a,r){const[s,i]=l.useState(!1),{instance:c}=n(a,i).current;l.useImperativeHandle(r,()=>c),l.useEffect(function(){s&&c.update()},[c,s,a.children]);const u=c._contentNode;return u?ae.createPortal(a.children,u):null}return l.forwardRef(t)}function ue(n){function t(a,r){const{instance:s}=n(a).current;return l.useImperativeHandle(r,()=>s),null}return l.forwardRef(t)}function J(n,t){const a=l.useRef();l.useEffect(function(){return t!=null&&n.instance.on(t),a.current=t,function(){a.current!=null&&n.instance.off(a.current),a.current=null}},[n,t])}function H(n,t){const a=n.pane??t.pane;return a?{...n,pane:a}:n}function de(n,t){return function(r,s){const i=M(),c=n(H(r,i),i);return Q(i.map,r.attribution),J(c.current,r.eventHandlers),t(c.current,i,r,s),c}}function q(n,t,a){return Object.freeze({instance:n,context:t,container:a})}function _(n,t){return t==null?function(r,s){const i=l.useRef();return i.current||(i.current=n(r,s)),i}:function(r,s){const i=l.useRef();i.current||(i.current=n(r,s));const c=l.useRef(r),{instance:u}=i.current;return l.useEffect(function(){c.current!==r&&(t(u,r,c.current),c.current=r)},[u,r,s]),i}}function fe(n,t){l.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){var i;(i=t.layerContainer)==null||i.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function K(n){return function(a){const r=M(),s=n(H(a,r),r);return Q(r.map,a.attribution),J(s.current,a.eventHandlers),fe(s.current,r),s}}function me(n,t){const a=_(n,t),r=K(a);return ie(r)}function pe(n,t){const a=_(n),r=de(a,t);return ce(r)}function he(n,t){const a=_(n,t),r=K(a);return ue(r)}function ve(n,t,a){const{opacity:r,zIndex:s}=t;r!=null&&r!==a.opacity&&n.setOpacity(r),s!=null&&s!==a.zIndex&&n.setZIndex(s)}function Y(){return M().map}function xe(n){const t=Y();return l.useEffect(function(){return t.on(n),function(){t.off(n)}},[t,n]),t}function T(){return T=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n},T.apply(this,arguments)}function ye({bounds:n,boundsOptions:t,center:a,children:r,className:s,id:i,placeholder:c,style:u,whenReady:h,zoom:j,...x},C){const[w]=l.useState({className:s,id:i,style:u}),[p,d]=l.useState(null);l.useImperativeHandle(C,()=>(p==null?void 0:p.map)??null,[p]);const y=l.useCallback(N=>{if(N!==null&&p===null){const o=new D.Map(N,x);a!=null&&j!=null?o.setView(a,j):n!=null&&o.fitBounds(n,t),h!=null&&o.whenReady(h),d(oe(o))}},[]);l.useEffect(()=>()=>{p==null||p.map.remove()},[p]);const m=p?A.createElement(X,{value:p},r):c??null;return A.createElement("div",T({},w,{ref:y}),m)}const je=l.forwardRef(ye),U=me(function({position:t,...a},r){const s=new D.Marker(t,a);return q(s,le(r,{overlayContainer:s}))},function(t,a,r){a.position!==r.position&&t.setLatLng(a.position),a.icon!=null&&a.icon!==r.icon&&t.setIcon(a.icon),a.zIndexOffset!=null&&a.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(a.zIndexOffset),a.opacity!=null&&a.opacity!==r.opacity&&t.setOpacity(a.opacity),t.dragging!=null&&a.draggable!==r.draggable&&(a.draggable===!0?t.dragging.enable():t.dragging.disable())}),ee=pe(function(t,a){const r=new D.Popup(t,a.overlayContainer);return q(r,a)},function(t,a,{position:r},s){l.useEffect(function(){const{instance:c}=t;function u(j){j.popup===c&&(c.update(),s(!0))}function h(j){j.popup===c&&s(!1)}return a.map.on({popupopen:u,popupclose:h}),a.overlayContainer==null?(r!=null&&c.setLatLng(r),c.openOn(a.map)):a.overlayContainer.bindPopup(c),function(){var x;a.map.off({popupopen:u,popupclose:h}),(x=a.overlayContainer)==null||x.unbindPopup(),a.map.removeLayer(c)}},[t,a,s,r])}),ge=he(function({url:t,...a},r){const s=new D.TileLayer(t,H(a,r));return q(s,r)},function(t,a,r){ve(t,a,r);const{url:s}=a;s!=null&&s!==r.url&&t.setUrl(s)}),be="/having.market/assets/location-icon-png-27-BMkhny_y.png",ne=new re.Icon({iconUrl:be,iconSize:[32,52],iconAnchor:[16,52],popupAnchor:[0,-52]});function Ce({position:n,setPosition:t,flyToSearchResult:a}){const r=Y();a&&n&&r.flyTo(n,r.getZoom());const s=l.useRef(null),i={dragend(){const c=s.current;c!=null&&t(c.getLatLng())}};return n===null?null:e.jsx(U,{eventHandlers:i,ref:s,draggable:!1,position:n,icon:ne,children:e.jsxs(ee,{children:[n.lat,", ",n.lng]})})}const Ne=({onLocationChange:n})=>{const t={lat:30.1392,lng:31.7317},a=l.useRef(),[r,s]=l.useState(t),[i,c]=l.useState(""),[u,h]=l.useState([]),[j,x]=l.useState(!1),[C,w]=l.useState(!1),p=async o=>{o.preventDefault();const g=await z.get("https://nominatim.openstreetmap.org/search",{params:{format:"json",q:i,"accept-language":"ar",countrycodes:"EG"}});h(g.data)};function d(o,g){const S={lat:parseFloat(o),lng:parseFloat(g)};s(S),n(S),x(!0),h([])}const y=l.useMemo(()=>({dragend(){const o=a.current;o!=null&&(s(o.getLatLng()),n(o.getLatLng()),x(!1))}}),[]);function m(){return xe({click(o){C?console.log("you locked the pin!"):(s(o.latlng),n(o.latlng),x(!1))}}),null}function N(){n(r),x(!0)}return e.jsxs("div",{className:"map-container",children:[e.jsxs("div",{className:"map-search",children:[e.jsx("button",{onClick:N,children:e.jsx("i",{className:"fa-solid fa-location-crosshairs"})}),e.jsx("button",{onClick:()=>w(o=>!o),children:C?e.jsx("i",{className:"fa-solid fa-location-pin-lock"}):e.jsx("i",{className:"fa-solid fa-location-dot"})}),e.jsxs("form",{onSubmit:p,children:[e.jsx("input",{type:"text",value:i,onChange:o=>c(o.target.value),placeholder:"ابحث عن عنوان"}),e.jsx("button",{type:"submit",children:"Search"})]}),e.jsx("ul",{children:u.map(o=>e.jsx("li",{onClick:()=>d(o.lat,o.lon),children:o.display_name},o.place_id))})]}),e.jsxs(je,{center:t,zoom:13,children:[e.jsx(ge,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.jsx(m,{}),e.jsx(U,{eventHandlers:y,ref:a,draggable:!0,position:r,icon:ne,children:e.jsxs(ee,{children:[r.lat,",",r.lng]})}),e.jsx(Ce,{position:r,setPosition:s,flyToSearchResult:j})]})]})},Le=()=>e.jsx("div",{className:"loading-circle",children:e.jsx("div",{className:"spinner"})}),we=({image:n,height:t,onDelete:a})=>{const r=()=>{a(n)};return e.jsxs("div",{className:"img-slider-continer",children:[e.jsx("img",{src:URL.createObjectURL(n),alt:"Preview",style:{height:`${t}px`,objectFit:"contain"}}),e.jsx("button",{className:"img-slider-btn",onClick:r,style:{},children:e.jsx("i",{className:"fa-solid fa-trash-can"})})]})},Se=({images:n,height:t,onDelete:a})=>e.jsx("div",{className:"img-slider-container",children:e.jsx("div",{className:"img-slider-wrapper",children:n==null?void 0:n.map((r,s)=>e.jsx("div",{className:"img-slider-slide",children:e.jsx(we,{image:r,height:t,onDelete:a})},s))})}),ke=({handleChange:n,city:t=null,gover:a=null})=>{const[r,s]=l.useState([]),[i,c]=l.useState([]),[u,h]=l.useState(a),[j,x]=l.useState(t),C=async()=>{try{const o=await z.get("https://app.having.market/api/gover");o.data&&Array.isArray(o.data.data)?s(o.data.data):console.error("Unexpected response format:",o)}catch(o){console.error("Error fetching governorates:",o)}},w=o=>{const g=r.find(S=>S.id===o);g&&Array.isArray(g.city)?c(g.city):c([])},p=o=>{h(o),x(null),w(o?o.value:null),n({name:"gover",value:o?o.value:""},!0),n({name:"city",value:null},!0)},d=o=>{x(o),n({name:"city",value:o?o.value:""},!0)};l.useEffect(()=>{C()},[]);const y=r.map(o=>({value:o.id,label:o.name})),m=i.map(o=>({value:o.id,label:o.name})),N={control:o=>({...o,minHeight:"40px",borderRadius:"4px",borderColor:"#ced4da",boxShadow:"none",cursor:"pointer","&:hover":{borderColor:"#a8b3c4"}}),menu:o=>({...o,borderRadius:"4px",zIndex:1001}),option:(o,g)=>({...o,backgroundColor:g.isSelected?"#007bff":"#fff",color:g.isSelected?"#fff":"#000","&:hover":{backgroundColor:"#f8f9fa",color:"#000"}})};return e.jsxs("div",{children:[e.jsxs("label",{children:["المحافظة:",e.jsx($,{name:"gover",options:y,onChange:p,value:u,placeholder:"اختر محافظة",isClearable:!0,styles:N})]}),e.jsxs("label",{children:["المدينة:",e.jsx($,{name:"city",options:m,onChange:d,value:j,placeholder:"اختر مدينة",isClearable:!0,styles:N,isDisabled:!u})]})]})},G=[{type:{en:"commercial",ar:"تجاري"},activities:[{en:"super market",ar:"سوبر ماركت"},{en:"pharmacy",ar:"صيدلية"},{en:"bakery",ar:"مخبز"},{en:"vegetables",ar:"خضروات"},{en:"another",ar:"آخر"}]},{type:{en:"industrial",ar:"صناعي"},activities:[{en:"building materials",ar:"مواد البناء"},{en:"auto industry (cars)",ar:"صناعة السيارات"},{en:"tobacco",ar:"التبغ"},{en:"leather",ar:"الجلود"},{en:"electronic industries",ar:"الصناعات الإلكترونية"},{en:"electrical",ar:"الكهربائية"},{en:"chemical",ar:"الكيميائية"},{en:"pharmaceutical",ar:"الصيدلانية"},{en:"mechanical",ar:"الميكانيكية"},{en:"delivery services",ar:"خدمات التوصيل"},{en:"another activity",ar:"نشاط آخر"},{en:"without",ar:"بدون"}]},{type:{en:"land",ar:"ارض"},activities:[{en:"residential",ar:"سكني"},{en:"commercial",ar:"تجاري"},{en:"administrative",ar:"إداري"},{en:"entertaining",ar:"ترفيهي"},{en:"industrial",ar:"صناعي"},{en:"agricultural",ar:"زراعي"},{en:"store",ar:"مخزن"},{en:"medical",ar:"طبي"},{en:"usufruct right",ar:"حق الانتفاع"},{en:"coastal",ar:"ساحلي"}]},{type:{en:"housing",ar:"سكني"},activities:[{en:"apartment",ar:"شقة"},{en:"loft",ar:"لوفت"},{en:"penthouse",ar:"بنتهاوس"},{en:"villa",ar:"فيلا"},{en:"town House",ar:"تاون هاوس"},{en:"duplex",ar:"دوبلكس"},{en:"twin Vill",ar:"فيلا ثؤام"},{en:"roof",ar:"روف"},{en:"studio",ar:"ستوديو"}]},{type:{en:"coastal",ar:"ساحلي"},activities:[{en:"chalet",ar:"شاليه"},{en:"apartment",ar:"شقة"},{en:"loft",ar:"لوفت"},{en:"penthouse",ar:"بنتهاوس"},{en:"villa",ar:"فيلا"},{en:"town House",ar:"تاون هاوس"},{en:"duplex",ar:"دوبلكس"},{en:"twin Vill",ar:"فيلا ثؤام"},{en:"roof",ar:"روف"}]}],Re=({formData:n,handleChange:t,isUpdate:a})=>{const r={housing:["كمبوند","حمام سباحة","وحدة تخزين","شارع رئيسي","ناصية شارع رئيسي","اطلالة حديقة","اطلالة ساحة واسعة","منطقة خدمات","واجهة كلاسيكية","مداخل رخام","جراج","انترنت","امن وحراسة","كاميرات مراقبة","بلكونة","اسانسيبر","تكييف وتدفئة","جيم","اجهزة المطبخ","دش مركزي","مساحات خضراء","مسطحات مائية","انظمة اضاءة حديثة","منزل ذكي","منطقة تسوق وترفيه","ميني كمباوند"],industrial:["شارع رئيسي","ناصية شارع رئيسي","اطلالة حديقة","اطلالة ساحة فناء","منطقة صناعات","عداد مياه","عداد كهرباء","انترنت","منطقة خدمات"],commercial:["واجهة زجاجية","دش مركزي","مول تجاري","مول اداري","انترنت","مداخل رخام","بلكونة","انظمة اضاءة حديثة","انترنت","كاميرات مراقبة","اسانسير","امن وحراسة","جراج","مبني طبي فقط","منطقة صناعات","اجهزة المطبخ","اطلالة علي مساحات خضراء","امن وحراسة","ناصية شارع"],coastal:["فندق","اطلالة مباشرة علي البحر","صف اول علي البحر","اطلالة حمام سباحة","اطلالة مساحة خضراء","اطلالة مساحة واسعة","امن وحراسة","اسانسير","شارع رئيسي","ناصية شارع رئيسي","كاميرا مراقبة","جراج","بلكونة","تكييف وتدفئة","جيم","اجهزة المطبخ","منطقة خدمات وترفيه","حمام سباحة","دش مركزي","واجهة كلاسيكية","واجهة مودرن","مدخل رخام","مساحات خضراء","مسطحات مائية","انظمة اضاءة حديثة","انترنت","تكنولوجيا المنزل الذكي"],land:["كمبوند","شارع رئيسي","ناصية شارع رءيسي","اطلالة حديقة","اطلالة ساحة فناء","منطقة صناعات","عداد مياه","عداد كهرباء","انترنت","منطقة خدمات"]};console.log("from tap 4: ",n.type);let s=r[n.type]||[];return e.jsxs("div",{className:"tab-4",children:[e.jsx("h2",{className:"ar",children:":مزايا اضافية"}),e.jsx("ul",{children:s.map((i,c)=>e.jsxs("li",{children:[e.jsx("input",{onChange:t,type:"checkbox",name:`feature${c}`,id:i,value:i}),e.jsx("label",{htmlFor:i,children:i})]},c))})]})},F=({name:n,value:t,title:a,onChange:r,placeholder:s})=>{const i=()=>{const u=t===""?0:parseInt(t,10);r({target:{name:n,value:u+1,type:"number"}})},c=()=>{const u=t===""?0:parseInt(t,10);r({target:{name:n,value:u>0?u-1:0,type:"number"}})};return e.jsxs("div",{className:"number-input",children:[e.jsx("label",{htmlFor:n,children:e.jsx("p",{children:a})}),e.jsx("button",{type:"button",onClick:c,children:"-"}),e.jsx("input",{id:n,type:"number",name:n,value:t,onChange:r,placeholder:s}),e.jsx("button",{type:"button",onClick:i,children:"+"})]})},V=({isUpdate:n,onAddProp:t})=>{const r=l.useContext(Z).loginState.token,s=l.useRef(),[i,c]=l.useState(n);console.log(i);const[u,h]=l.useState(1),[j,x]=l.useState(!1),C=["one","two","three","four"],[w,p]=l.useState([]),[d,y]=l.useState({address:"",type:"",size:"",bedrooms:"",bathrooms:"",description:"",location:"",city:"",gover:"",image:null,activity:"",finishing:"",feature1:"",feature2:"",feature3:"",price:"",action:"",floors:"",payment:""});i!==null&&typeof n=="object"&&(c(null),console.log("aa"),y(f=>({...f,address:n.address||"",type:n.type||"",size:n.size||"",bedrooms:n.bedrooms||"",bathrooms:n.bathrooms||"",description:n.description||"",location:n.location||"",city:n.city.name||"",gover:n.gover.name||"",image:n.image||null,activity:n.activity||"",finishing:n.finishing||"",price:n.price||"",action:n.action||"",floors:n.floors||"",payment:n.payment||""}))),console.log("formData: ",d),console.log("isUpdate: ",n);const m=(f,b=!1)=>{if(b){const{name:v,value:k}=f;if(console.log("name: ",v),console.log("value: ",k),y(R=>({...R,[v]:k})),v==="type"){const R=k,E=G.find(L=>L.type.en===R);p(E?E.activities:[]),y(L=>({...L,activity:""}))}}else{const{name:v,value:k,type:R,files:E}=f.target;if(y(L=>({...L,[v]:R==="file"?E[0]:k})),v==="type"){const L=k,I=G.find(O=>O.type.en===L);p(I?I.activities:[]),y(O=>({...O,activity:""}))}if(v==="image"){const L=Array.from(f.target.files);y(I=>({...I,image:L}))}}},N=f=>{y(b=>({...b,image:b.image.filter(v=>v!==f)}))},o=async f=>{f.preventDefault(),x(!0);const b=new FormData;for(const v in d)b.append(v,d[v]);console.log(d);try{const v=await z.post("https://app.having.market/api/tasks",d,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}});console.log(v),t()}catch(v){x(!1),console.error("Error submitting form:",v)}},g=f=>{f.preventDefault(),h(u+1)},S=f=>{f.preventDefault(),h(u-1)},te=f=>{const b=`https://www.google.com/maps?q=${f.lat},${f.lng}`;console.log(b),y({...d,location:b}),s.current&&(s.current.value=b)};return e.jsxs("div",{className:"form-wrapper",children:[e.jsx("form",{className:"property-form",onSubmit:o,children:j?e.jsx(Le,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`steps-row ${C[u-1]}`,children:[e.jsx("div",{id:"progress",className:`${C[u-1]}`}),e.jsx("div",{className:"col",style:u>=1?{color:"white"}:null,children:"اولا"}),e.jsx("div",{className:"col",style:u>=2?{color:"white"}:null,children:"ثانيا"}),e.jsx("div",{className:"col",style:u>=3?{color:"white"}:null,children:"ثالثا"}),e.jsx("div",{className:"col",style:u>=4?{color:"white"}:null,children:"رابعا"})]}),e.jsxs("div",{className:`form-tabs ${C[u-1]}`,children:[e.jsxs("div",{className:"tab-1",children:[e.jsxs("label",{htmlFor:"",children:[e.jsx("p",{children:"العنوان"}),e.jsx("input",{type:"text",name:"address",placeholder:"Address",value:d.address,onChange:m,disabled:n,required:!0})]}),e.jsxs("label",{htmlFor:"",children:[e.jsx("p",{children:"الموقع"}),e.jsx("input",{type:"text",ref:s,name:"location",placeholder:"Location",value:d.location,onChange:m,required:!0,disabled:n})]}),e.jsx(ke,{handleChange:f=>m(f,!0),city:d.city,gover:d.gover})]}),e.jsxs("div",{className:"tab-2",children:[e.jsxs("label",{children:[e.jsx("p",{children:"النوع"}),e.jsxs("select",{name:"type",value:d.type,onChange:m,required:!0,disabled:n,children:[e.jsx("option",{value:"",children:"اختار النوع"}),e.jsx("option",{value:"housing",children:"سكني"}),e.jsx("option",{value:"industrial",children:"صناعي"}),e.jsx("option",{value:"coastal",children:"ساحلي"}),e.jsx("option",{value:"commercial",children:"تجاري"}),e.jsx("option",{value:"land",children:"أرض"})]})]}),e.jsxs("label",{children:[e.jsx("p",{children:"النشاط\\التصنيف"}),e.jsxs("select",{name:"activity",value:d.activity,onChange:m,required:!0,disabled:n,children:[e.jsx("option",{value:"",children:"اختار النشاط"}),w.map((f,b)=>e.jsx("option",{value:f.en,children:f.ar},b))]})]}),e.jsxs("label",{children:["نوع التشطيب",e.jsxs("select",{name:"finishing",onChange:m,defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"اختار نوع التشطيب"}),e.jsx("option",{value:"unfinished",children:"بدون التشطيب"}),e.jsx("option",{value:"semi_finished",children:"نصف التشطيب"}),e.jsx("option",{value:"finished",children:"كاملة التشطيب"}),e.jsx("option",{value:"luxury",children:"سوبر لوكس"}),e.jsx("option",{value:"furnished",children:"شامل الفرش"})]})]}),e.jsxs("div",{className:"prop-numbers",children:[e.jsx(F,{name:"floors",value:d.floors,onChange:m,placeholder:"Floors",title:"الادوار",disabled:n}),e.jsx(F,{name:"size",value:d.size,onChange:m,placeholder:"Size",title:"المساحة بالمتر",disabled:n})]}),e.jsxs("div",{className:"prop-numbers",children:[e.jsx(F,{name:"bedrooms",value:d.bedrooms,onChange:m,placeholder:"Bedrooms",title:"الغرف",disabled:n}),e.jsx(F,{name:"bathrooms",value:d.bathrooms,onChange:m,placeholder:"Bathrooms",title:"الحمامات",disabled:n})]})]}),e.jsxs("div",{className:"tab-3",children:[e.jsxs("label",{htmlFor:"description",children:[e.jsx("p",{children:"الوصف"}),e.jsx("textarea",{id:"description",name:"description",placeholder:"Description",value:d.description,onChange:m,required:!0})]}),e.jsxs("label",{htmlFor:"description",children:[e.jsx("p",{children:"الصور"}),e.jsx("input",{type:"file",name:"image",onChange:m,required:!0,accept:"image/*",multiple:!0,disabled:n}),e.jsx(Se,{images:d.image,height:100,onDelete:N})]}),e.jsxs("label",{htmlFor:"price",children:[e.jsx("p",{children:"السعر"}),e.jsx("input",{type:"number",id:"price",name:"price",placeholder:"Price",value:d.price,onChange:m,required:!0,disabled:n})]}),e.jsxs("div",{className:"radio-row",children:[e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",id:"sell",name:"action",value:"0",onChange:m,disabled:n}),e.jsx("label",{className:"radio-button",htmlFor:"sell",children:"بيع"})]}),e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",id:"rent",name:"action",value:"1",onChange:m,disabled:n}),e.jsx("label",{className:"radio-button",htmlFor:"rent",children:"ايجار"})]})]}),e.jsxs("div",{className:"radio-row",children:[e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",id:"cash",name:"payment",value:"cash",onChange:m,disabled:n}),e.jsx("label",{className:"radio-button",htmlFor:"cash",children:"كاش"})]}),e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",id:"installment",name:"payment",value:"installment",onChange:m,disabled:n}),e.jsx("label",{className:"radio-button",htmlFor:"installment",children:"تقسيط"})]})]})]}),e.jsx(Re,{formData:d,handleChange:m})]}),e.jsxs("div",{className:"button-row",children:[u===4&&e.jsx("button",{type:"submit",children:"Submit"}),u<4&&e.jsx("button",{onClick:f=>g(f),id:"next",children:"التالي"}),u>1&&e.jsx("button",{onClick:f=>S(f),id:"prev",children:"السابق"})]})]})}),u===1&&e.jsx(Ne,{onLocationChange:te})]})},P=({key:n,children:t,onClicked:a,isActivated:r,title:s})=>e.jsxs("button",{onClick:a,className:r?"active":"",children:[t,e.jsx("p",{children:s})]},n),Oe=()=>{const n=l.useContext(Z).loginState,[t,a]=l.useState({name:"my properties",opject:null}),r=n.token;function s(u,h=null){a({name:u,opject:h})}function i(u){console.log("update: ",u),s("update",u)}function c(){s("my properties"),console.log("added")}return e.jsxs("div",{className:"user-page",children:[e.jsx("div",{className:"taps-container",children:e.jsxs("div",{className:"user-taps",children:[e.jsx(P,{onClicked:()=>s("my properties"),proprety:"my properties",title:"عقاراتي",isActivated:t.name==="my properties",children:e.jsx("i",{className:"fa-solid fa-briefcase"})}),e.jsx(P,{onClicked:()=>s("favorites"),proprety:"favorites",title:"المفضلة",isActivated:t.name==="favorites",children:e.jsx("i",{className:"fa-solid fa-heart"})}),e.jsx(P,{onClicked:()=>s("add property"),proprety:"add property",title:"اضافة عقار",isActivated:t.name==="add property"||t.name==="update",updatingData:t.opject,children:e.jsx("i",{className:"fa-solid fa-building"})})]})}),t.name==="add property"?e.jsx(V,{onAddProp:c,isUpdate:t.opject}):t.name==="update"?e.jsx(V,{isUpdate:t.opject}):t.name==="my properties"?e.jsx(B,{className:"user",action:"tasks",token:r,onUpdate:i}):t.name==="favorites"?e.jsx(B,{className:"user",action:"fav",token:r}):null]})};export{Oe as default};
