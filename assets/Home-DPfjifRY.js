import{j as e,u as k,r as o,a as b}from"./index-wW8Djhe-.js";import{S as v}from"./react-select.esm-DuaS5lW6.js";const R=()=>e.jsxs("footer",{className:"footer",children:[e.jsx("div",{className:"footer__addr",children:e.jsx("h1",{className:"footer__logo",children:"Having"})}),e.jsxs("ul",{className:"footer__nav",children:[e.jsxs("li",{className:"nav__item",children:[e.jsx("h2",{className:"nav__title",children:"Contact Us"}),e.jsxs("ul",{className:"nav__ul",children:[e.jsx("li",{children:e.jsx("a",{href:"mailto:support@having.market",children:"support"})}),e.jsx("li",{children:e.jsx("a",{href:"#",children:"phone: +20"})})]})]}),e.jsxs("li",{className:"nav__item",children:[e.jsx("h2",{className:"nav__title",children:"Legal"}),e.jsxs("ul",{className:"nav__ul",children:[e.jsx("li",{children:e.jsx("a",{href:"https://app.having.market/privacy_policy",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx("a",{href:"https://app.having.market/terms_and_conditions",children:"Terms of Use"})})]})]})]}),e.jsx("div",{className:"legal",children:e.jsx("p",{children:"© 2024 HAVING. All rights reserved."})})]}),$=["right","left"],w=({handleChange:p})=>{const[g,h]=o.useState([]),[d,t]=o.useState(null),r=()=>{b.get("https://app.having.market/api/cities").then(s=>{h(s.data.data),console.log(s)})},n=s=>{t(s),s&&p(s)};o.useEffect(()=>{r()},[]);const m=g.map(s=>({value:s.id,label:s.name,gover:s.gover_id})),c={control:s=>({...s,minHeight:"40px",borderRadius:"0 20px 20px 0",borderColor:"#ced4da",margin:"0",height:"100%",boxShadow:"none","&:hover":{borderColor:"#a8b3c4"}}),menu:s=>({...s,top:"0",borderRadius:"4px",zIndex:1001}),option:(s,l)=>({...s,backgroundColor:l.isSelected?"#007bff":"#fff",color:l.isSelected?"#fff":"#000","&:hover":{backgroundColor:"#f8f9fa",color:"#000"}})};return e.jsx(e.Fragment,{children:e.jsx(v,{className:"home-select",name:"city",options:m,onChange:n,value:d,placeholder:"اختر مدينة",isClearable:!0,styles:c})})},I=({notAuth:p=!1,onSearch:g})=>{const h=new URL(window.location.href),d=h.searchParams.get("token"),t=h.searchParams.get("phone"),r=k(),[n,m]=o.useState(null),[c,s]=o.useState(null),[l,u]=o.useState({city:"",gover:"",bathrooms:0,bedrooms:0,type:null});o.useEffect(()=>{!t&&d&&(console.log("phone: ",t),r("/profile"))},[d,t]),o.useEffect(()=>{b({method:"get",baseURL:"https://app.having.market/api/",url:"sell"}).then(a=>{console.log(a),s(a.data[0])}).catch(a=>{console.log(a)})},[]),console.log(c),p&&console.log("auth: please login");function j(){n!==null?(g(l),r(`/${n}`)):alert("من فضلك اختار بيع او ايجار")}function x(a){m(a===n?null:a)}const f={control:a=>({...a,minHeight:"40px",borderRadius:"0",border:"none",margin:"0",height:"100%",boxShadow:"none","&:hover":{borderColor:"#a8b3c4"}}),menu:a=>({...a,top:"0",borderRadius:"4px",zIndex:1001}),option:(a,i)=>({...a,backgroundColor:i.isSelected?"#007bff":"#fff",color:i.isSelected?"#fff":"#000","&:hover":{backgroundColor:"#f8f9fa",color:"#000"}})},C=[{value:"housing",label:"سكني"},{value:"industrial",label:"صناعي"},{value:"commercial",label:"تجاري"},{value:"coastal",label:"ساحلي"},{value:"land",label:"ارض"}],N=a=>{u({...l,city:a?a.value:"",gover:a?a.gover:""})},y=a=>{u({...l,type:a?a.value:null})},_=a=>{u({...l,bedrooms:a?parseInt(a.value):0})},S=a=>{u({...l,bathrooms:a?parseInt(a.value):0})};return console.log("app filter: ",l),e.jsxs("div",{className:"home",children:[e.jsx("section",{className:"home-main",children:e.jsxs("div",{className:"home-search",children:[e.jsxs("div",{className:"search-filters",children:[e.jsx("button",{className:`${n==="buy"?"active":""}`,onClick:()=>x("buy"),children:"للبيع"}),e.jsx("button",{className:`${n==="rent"?"active":""}`,onClick:()=>x("rent"),children:"للايجار"})]}),e.jsxs("div",{className:"search-bar list",children:[e.jsx(v,{className:"search-numbers first",name:"bathrooms",options:[{value:1,label:1},{value:2,label:2},{value:3,label:3},{value:4,label:4},{value:5,label:5}],onChange:S,placeholder:"الحمامات",isClearable:!0,styles:f}),e.jsx(v,{className:"search-numbers",name:"bedrooms",options:[{value:1,label:1},{value:2,label:2},{value:3,label:3},{value:4,label:4},{value:5,label:5}],onChange:_,placeholder:"الغرف",isClearable:!0,styles:f}),e.jsx(v,{className:"search-numbers last",name:"type",options:C,onChange:y,placeholder:"نوع العقار",isClearable:!0,styles:f})]}),e.jsxs("div",{className:"search-bar",children:[e.jsx("button",{className:"search-btn",onClick:j,children:"ابحث"}),e.jsxs("div",{className:"search-input",children:[e.jsx(w,{handleChange:N}),e.jsx("i",{className:"fa-solid fa-magnifying-glass"})]})]})]})}),e.jsxs("section",{className:"home-places",children:[e.jsx("h1",{children:"اكتشف منزل أحلامك مع عقاراتنا الحصرية"}),c?e.jsx("div",{className:"home-card",children:c.slice(0,4).map((a,i)=>e.jsxs("div",{className:`provided-featur ${$[i%2]}`,onClick:()=>r("/buy"),children:[a.img[0]?e.jsx("img",{loading:"lazy",src:`https://app.having.market/public/images/${a.img[0].img_name}`}):null,e.jsx("div",{className:"provided-text",children:e.jsx("p",{children:a.description})})]},i))}):null]}),e.jsx(R,{})]})};export{I as default};
